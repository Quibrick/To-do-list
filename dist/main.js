(()=>{"use strict";const e=function(e,t,n){const d=document.createElement("button");return d.id=e,d.innerHTML=t,d.style.display=n,d},t=function(e,t){"none"===e.style.display?e.style.display=`${t}`:e.style.display="none"},n=function(){const n=document.getElementById("left-bar"),d=document.createElement("div");d.classList.add("hidden-container"),d.id="left-hand-hidden-container",d.style.display="none";const a=document.createElement("div");a.classList.add("left-hand-hidden-buttons"),a.style.display="flex";const l=e("create-new-project","+ Create new project","block");l.classList.add("left-bar-btn"),l.addEventListener("click",(()=>{t(d,"block"),t(l,"none")})),n.appendChild(l);const i=document.createElement("input");i.id="project-name-input",i.placeholder="Project Name",d.appendChild(i);const c=e("submit-btn-left","Submit","block");c.addEventListener("click",(()=>{0!=i.value.length?(function(t){const n=document.getElementById("page-view-title"),d=document.getElementById("tasks-container"),a=document.getElementById("projects"),l=e(`project-${t.value}`,`${t.value}`,"block");l.addEventListener("click",(()=>{for(n.textContent=String(t.value),console.log(t.value);d.firstChild;)d.removeChild(d.lastChild)})),l.classList.add("left-bar-btn"),a.appendChild(l)}(i),t(d,"none"),t(l,"block")):console.log("er")}));const s=e("cancel-btn-left","Cancel","block");s.addEventListener("click",(()=>{t(d,"none"),t(l,"block")})),a.appendChild(c),a.appendChild(s),d.appendChild(a),n.appendChild(d)},d=function(e){const t=document.createElement("form");t.classList.add("hidden-form"),t.style.display="flex";const n=document.createElement("input");n.type="text",n.placeholder="Title",n.id=`title-${e}`,n.required=!0,t.appendChild(n);const d=document.createElement("input");d.type="text-area",d.placeholder="Description",d.id=`description-${e}`,d.required=!0,t.appendChild(d);const a=document.createElement("div");a.id="radio-input-container";const l=document.createElement("p");l.innerHTML="Priority :",a.appendChild(l);const i=["High","Normal","Low"];for(let e=0;e<i.length;e++){const t=document.createElement("label");t.htmlFor=i[e],t.innerHTML=i[e],t.name="priority";const n=document.createElement("input");n.type="radio",n.name="priority",n.value=i[e],a.appendChild(t),a.appendChild(n)}t.appendChild(a);const c=document.createElement("input");return c.type="date",c.id=`due-date-${e}`,c.required=!0,t.appendChild(c),t},a=function(e){const t=document.getElementById(`task-title-${e.id}`),n=document.getElementById(`task-description-${e.id}`),d=document.getElementById(`task-due-date-${e.id}`),a=document.getElementById(`task-priority-${e.id}`);t.innerHTML=`${e.title}`,n.innerHTML=`${e.description}`,d.innerHTML=`${e.dueDate}`,a.innerHTML=`${e.priority}`},l=function(e){const t=document.getElementById(`title-${e}`),n=document.getElementById(`description-${e}`),d=document.getElementById(`due-date-${e}`);t.value="",n.value="",d.value=""},i=function(n){const a=document.getElementById("tasks-container"),l=document.createElement("div");l.classList.add("single-task-container"),l.id=`task-${n}`;const i=document.createElement("div");i.classList.add("visible-task"),i.style.display="flex";const c=document.createElement("div");c.classList.add("hidden-task"),c.style.display="none";const s=e(`task-title-${n}`,"","block");s.classList.add("task-title-class"),s.addEventListener("click",(()=>{t(c,"flex")})),i.appendChild(s);const o=document.createElement("div");o.classList.add("right-hand-items"),o.style.display="flex",i.appendChild(o);const r=document.createElement("div");r.id=`task-priority-${n}`,r.classList.add("task-look"),o.appendChild(r);const p=document.createElement("div");p.id=`task-due-date-${n}`,p.classList.add("task-look"),o.appendChild(p);const m=e(`edit-task-${n}`,"","block");m.classList.add("task-btn"),m.addEventListener("click",(()=>{const a=new Map(JSON.parse(localStorage.taskManager)).get(`task-${n}`);!function(n){const a=document.getElementsByTagName("body")[0],l=document.createElement("div");l.id="modal-form",l.style.display="none",l.classList.add("modal");const i=document.createElement("div"),c=document.createElement("h1");c.id="edit-task-title-modal",c.innerHTML="Edit task",i.appendChild(c);const s=d("modal");i.appendChild(s);const o=document.createElement("div");o.classList.add("hidden-buttons"),o.style.display="flex";const r=e("save-changes-btn-modal","Save changes","block");r.addEventListener("click",(()=>{})),o.appendChild(r);const p=e("discard-btn-modal","Discard","block");p.addEventListener("click",(()=>{t(l,"none"),l.remove()})),o.appendChild(p),i.appendChild(o),i.classList.add("modal-content"),l.appendChild(i),a.appendChild(l)}();const l=document.getElementById("modal-form");l.style.display="none",t(l,"block"),function(e){const t=document.getElementById("title-modal"),n=document.getElementById("description-modal"),d=document.getElementById("due-date-modal");t.value=`${e.title}`,n.value=`${e.description}`,d.value=`${e.dueDate}`}(a)}));const u=document.createElement("img");u.id="edit-task-img",u.src="./img/edit.svg",m.appendChild(u),o.appendChild(m);const h=e(`delete-task-${n}`,"","block");h.classList.add("task-btn");const k=document.createElement("img");k.id="delete-task-img",k.src="./img/cancel.svg",h.addEventListener("click",(()=>{l.remove();let e=new Map(JSON.parse(localStorage.taskManager));e.delete(`task-${n}`),localStorage.taskManager=JSON.stringify(Array.from(e.entries()))})),h.appendChild(k),o.appendChild(h);const y=document.createElement("div");y.classList.add("task-description-class"),y.id=`task-description-${n}`,y.classList.add("task-look"),c.appendChild(y),l.appendChild(i),l.appendChild(c),a.appendChild(l)},c=function(n,c){const s=document.getElementById("add-new"),o=document.createElement("div");o.classList.add("hidden-container"),o.style.display="none";const r=document.createElement("div");r.classList.add("hidden-buttons"),r.style.display="flex";const p=d("add-task");o.appendChild(p);const m=e("add-new-btn","+ Add task","block");m.addEventListener("click",(()=>{t(o,"block"),t(m,"none")})),s.appendChild(m);const u=e("submit-btn","Submit","block");u.addEventListener("click",(()=>{const e=(d="add-task",[document.getElementById(`title-${d}`).value,document.getElementById(`description-${d}`).value,document.getElementById(`due-date-${d}`).value,document.querySelector('input[name="priority"]:checked').value]);var d;if(function(e){const t=e.length;for(let n=0;n<t;n++)if(""===e[n])return console.log("woops"),!1;return!0}(e)){i(n);const d=new class{constructor(e,t,n,d,a){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.priority=a}set ChangeTitle(e){this.title=e}set ChangeDescription(e){this.description=e}}(n,e[0],e[1],e[2],e[3]);c.set(`task-${n}`,d),localStorage.taskManager=JSON.stringify(Array.from(c.entries())),n++,localStorage.setItem("id",n),a(d),l("add-task"),t(o,"none"),t(m,"block")}})),r.appendChild(u);const h=e("cancel-btn","Cancel","block");h.addEventListener("click",(()=>{t(o,"none"),t(m,"block"),l("add-task")})),r.appendChild(h),o.appendChild(r),s.appendChild(o)};!function(){let t=JSON.parse(localStorage.getItem("id"));if(null===t){let t=new Map;c(0,t),n(),function(){const t=document.getElementById("page-view-title"),n=document.getElementById("tasks-container"),d=document.getElementById("projects");t.textContent="My Project";const a=e("landing-project","My Project","block");a.addEventListener("click",(()=>{for(t.textContent="My Project";n.firstChild;)n.removeChild(n.lastChild)})),a.classList.add("left-bar-btn"),d.appendChild(a)}()}else{n();let e=new Map(JSON.parse(localStorage.taskManager));c(t,e);for(let t of e.values())i(t.id),a(t)}}()})();