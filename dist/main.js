(()=>{"use strict";const e=function(e,t,n){const d=document.createElement("button");return d.id=e,d.innerHTML=t,d.style.display=n,d},t=function(e,t){"none"===e.style.display?e.style.display=`${t}`:e.style.display="none"},n=function(e){const t=document.createElement("form");t.classList.add("hidden-form"),t.style.display="flex";const n=document.createElement("input");n.type="text",n.placeholder="Title",n.id=`title-${e}`,n.required=!0,t.appendChild(n);const d=document.createElement("input");d.type="text-area",d.placeholder="Description",d.id=`description-${e}`,d.required=!0,t.appendChild(d);const l=document.createElement("div");l.id="radio-input-container";const a=document.createElement("p");a.innerHTML="Priority :",l.appendChild(a);const i=["High","Normal","Low"];for(let e=0;e<i.length;e++){const t=document.createElement("label");t.htmlFor=i[e],t.innerHTML=i[e],t.name="priority";const n=document.createElement("input");n.type="radio",n.name="priority",n.value=i[e],l.appendChild(t),l.appendChild(n)}t.appendChild(l);const o=document.createElement("input");return o.type="date",o.id=`due-date-${e}`,o.required=!0,t.appendChild(o),t},d=function(e){const t=document.getElementById(`task-title-${e.id}`),n=document.getElementById(`task-description-${e.id}`),d=document.getElementById(`task-due-date-${e.id}`),l=document.getElementById(`task-priority-${e.id}`);t.innerHTML=`${e.title}`,n.innerHTML=`${e.description}`,d.innerHTML=`${e.dueDate}`,l.innerHTML=`${e.priority}`},l=function(e){const t=document.getElementById(`title-${e}`),n=document.getElementById(`description-${e}`),d=document.getElementById(`due-date-${e}`);t.value="",n.value="",d.value=""},a=function(e){return e.replace(/\s/g,"")},i=function(d,l){const i=document.getElementById("tasks-container"),o=document.createElement("div");o.classList.add("single-task-container"),o.id=`task-${d}`;const c=document.createElement("div");c.classList.add("visible-task"),c.style.display="flex";const s=document.createElement("div");s.classList.add("hidden-task"),s.style.display="none";const r=e(`task-title-${d}`,"","block");r.classList.add("task-title-class"),r.addEventListener("click",(()=>{t(s,"flex")})),c.appendChild(r);const m=document.createElement("div");m.classList.add("right-hand-items"),m.style.display="flex",c.appendChild(m);const p=document.createElement("div");p.id=`task-priority-${d}`,p.classList.add("task-look"),m.appendChild(p);const u=document.createElement("div");u.id=`task-due-date-${d}`,u.classList.add("task-look"),m.appendChild(u);const g=e(`edit-task-${d}`,"","block");g.classList.add("task-btn"),g.addEventListener("click",(()=>{const l=new Map(JSON.parse(localStorage.taskManager)).get(`task-${d}`);!function(d){const l=document.getElementsByTagName("body")[0],a=document.createElement("div");a.id="modal-form",a.style.display="none",a.classList.add("modal");const i=document.createElement("div"),o=document.createElement("h1");o.id="edit-task-title-modal",o.innerHTML="Edit task",i.appendChild(o);const c=n("modal");i.appendChild(c);const s=document.createElement("div");s.classList.add("hidden-buttons"),s.style.display="flex";const r=e("save-changes-btn-modal","Save changes","block");r.addEventListener("click",(()=>{})),s.appendChild(r);const m=e("discard-btn-modal","Discard","block");m.addEventListener("click",(()=>{t(a,"none"),a.remove()})),s.appendChild(m),i.appendChild(s),i.classList.add("modal-content"),a.appendChild(i),l.appendChild(a)}();const a=document.getElementById("modal-form");a.style.display="none",t(a,"block"),function(e){const t=document.getElementById("title-modal"),n=document.getElementById("description-modal"),d=document.getElementById("due-date-modal");t.value=`${e.title}`,n.value=`${e.description}`,d.value=`${e.dueDate}`}(l)}));const h=document.createElement("img");h.id="edit-task-img",h.src="./img/edit.svg",g.appendChild(h),m.appendChild(g);const y=e(`delete-task-${d}`,"","block");y.classList.add("task-btn");const k=document.createElement("img");k.id="delete-task-img",k.src="./img/cancel.svg",y.addEventListener("click",(()=>{o.remove();let e=new Map(JSON.parse(localStorage.getItem(a(l))));e.delete(`task-${d}`),localStorage.setItem(`${a(l)}`,JSON.stringify(Array.from(e.entries())))})),y.appendChild(k),m.appendChild(y);const E=document.createElement("div");E.classList.add("task-description-class"),E.id=`task-description-${d}`,E.classList.add("task-look"),s.appendChild(E),o.appendChild(c),o.appendChild(s),i.appendChild(o)},o=function(o,c,s){const r=document.getElementById("content"),m=document.createElement("div");m.id="add-new";const p=document.createElement("div");p.classList.add("hidden-container"),p.style.display="none";const u=document.createElement("div");u.classList.add("hidden-buttons"),u.style.display="flex";const g=n("add-task");p.appendChild(g);const h=e("add-new-btn","+ Add task","block");h.addEventListener("click",(()=>{t(p,"block"),t(h,"none")})),m.appendChild(h);const y=e("submit-btn","Submit","block");y.addEventListener("click",(()=>{const e=(n="add-task",[document.getElementById(`title-${n}`).value,document.getElementById(`description-${n}`).value,document.getElementById(`due-date-${n}`).value,document.querySelector('input[name="priority"]:checked').value]);var n;if(function(e){const t=e.length;for(let n=0;n<t;n++)if(""===e[n])return console.log("woops"),!1;return!0}(e)){i(o,s);const n=new class{constructor(e,t,n,d,l){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.priority=l}set ChangeTitle(e){this.title=e}set ChangeDescription(e){this.description=e}}(o,e[0],e[1],e[2],e[3]);c.set(`task-${o}`,n),localStorage.setItem(a(s),JSON.stringify(Array.from(c.entries()))),o++,localStorage.setItem("id",o),d(n),l("add-task"),t(p,"none"),t(h,"block")}})),u.appendChild(y);const k=e("cancel-btn","Cancel","block");k.addEventListener("click",(()=>{t(p,"none"),t(h,"block"),l("add-task")})),u.appendChild(k),p.appendChild(u),m.appendChild(p),r.appendChild(m)},c=function(t){const n=document.getElementById("projects"),l=document.getElementById("tasks-container"),c=document.createElement("div");c.classList.add("single-project-container"),c.style.display="flex";const s=e(`${t}`,`${t}`,"block");s.addEventListener("click",(()=>{for(;l.firstChild;)l.removeChild(l.lastChild);document.getElementById("add-new").remove(),document.getElementById("page-view-title").textContent=t;let e=JSON.parse(localStorage.getItem("id"));if(null===JSON.parse(localStorage.getItem(a(t)))){let n=new Map;o(e,n,a(t))}else{let n=new Map(JSON.parse(localStorage.getItem(a(t))));o(e,n,a(`${t}`));for(let e of n.values())i(e.id,t),d(e)}}));const r=e(`delete-${t}-btn`,"delete","block");r.addEventListener("click",(()=>{c.remove(),localStorage.removeItem(a(t));let e=JSON.parse(localStorage.getItem("custom-project-list"));e=e.filter((e=>e!=t)),localStorage.setItem("custom-project-list",JSON.stringify(e))})),c.appendChild(s),c.appendChild(r),s.classList.add("left-bar-btn"),n.appendChild(c)},s=function(n){const d=document.getElementById("left-bar"),l=document.createElement("div");l.classList.add("hidden-container"),l.id="left-hand-hidden-container",l.style.display="none";const a=document.createElement("div");a.classList.add("left-hand-hidden-buttons"),a.style.display="flex";const i=e("create-new-project","+ Create new project","block");i.classList.add("left-bar-btn"),i.addEventListener("click",(()=>{t(l,"block"),t(i,"none")})),d.appendChild(i);const o=document.createElement("input");o.id="project-name-input",o.placeholder="Project Name",l.appendChild(o);const s=e("submit-btn-left","Submit","block");s.addEventListener("click",(()=>{0!=o.value.length?(n.push(o.value),localStorage.setItem("custom-project-list",JSON.stringify(n)),console.log(n),c(o.value),t(l,"none"),t(i,"block"),o.value=""):console.log("er")})),a.appendChild(s);const r=e("cancel-btn-left","Cancel","block");r.addEventListener("click",(()=>{t(l,"none"),t(i,"block")})),a.appendChild(r),l.appendChild(a),d.appendChild(l)};!function(){let e=JSON.parse(localStorage.getItem("id"));if(null===e){let t=[],n=new Map;localStorage.setItem("Todo",JSON.stringify(Array.from(n.entries()))),e=0,localStorage.setItem("id",e),o(e,n,"Todo"),c("Todo"),document.getElementById("Todo").click(),t.push("Todo"),localStorage.setItem("custom-project-list",JSON.stringify(t)),s(t)}else{let t=JSON.parse(localStorage.getItem("custom-project-list")),n=new Map(JSON.parse(localStorage.Todo));o(e,n,"Todo");const l=t.length;for(let e=0;e<l;e++)c(t[e]);s(t);for(let e of n.values())i(e.id),d(e);document.getElementById("Todo").click()}}()})();