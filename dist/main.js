(()=>{"use strict";const e=function(e,t,n){const d=document.createElement("button");return d.id=e,d.innerHTML=t,d.style.display=n,d},t=function(e,t){"none"===e.style.display?e.style.display=`${t}`:e.style.display="none"},n=function(e){const t=document.createElement("form");t.classList.add("hidden-form"),t.style.display="flex";const n=document.createElement("input");n.type="text",n.placeholder="Title",n.id=`title-${e}`,n.required=!0,t.appendChild(n);const d=document.createElement("input");d.type="text-area",d.cols="60",d.rows="8",d.placeholder="Description",d.id=`description-${e}`,d.required=!0,t.appendChild(d);const l=document.createElement("div");l.id="radio-input-container";const a=document.createElement("p");a.innerHTML="Priority :",l.appendChild(a);const o=["High","Normal","Low"];for(let t=0;t<o.length;t++){const n=document.createElement("label");n.htmlFor=o[t],n.innerHTML=o[t];const d=document.createElement("input");d.type="radio",d.name=`priority-${e}`,d.value=o[t],1===t&&(d.checked=!0),l.appendChild(n),l.appendChild(d)}t.appendChild(l);const c=document.createElement("input");c.type="date",c.id=`due-date-${e}`,c.required=!0,t.appendChild(c);const i=document.createElement("p");return i.id="all-required",i.style.color="red",i.style.display="none",i.textContent="Please make sure to fill out all input fields",t.appendChild(i),t},d=function(e){const t=document.getElementById(`task-title-${e.id}`),n=document.getElementById(`task-description-${e.id}`),d=document.getElementById(`task-due-date-${e.id}`),l=document.getElementById(`task-priority-${e.id}`);t.innerHTML=`${e.title}`,n.innerHTML=`${e.description}`,d.innerHTML=`${e.dueDate}`,l.innerHTML=`${e.priority}`},l=class{constructor(e,t,n,d,l){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.priority=l}},a=function(e){const t=document.getElementById(`title-${e}`),n=document.getElementById(`description-${e}`),d=document.getElementById(`due-date-${e}`);t.value="",n.value="",d.value=""},o=function(e){return e.replace(/\s/g,"")},c=function(a,c){const i=document.getElementById("tasks-container"),s=document.createElement("div");s.classList.add("single-task-container"),s.id=`task-${a}`;const r=document.createElement("div");r.classList.add("visible-task"),r.style.display="flex";const m=document.createElement("div");m.classList.add("hidden-task"),m.style.display="none";const p=e(`task-title-${a}`,"","block");p.classList.add("task-title-class"),p.addEventListener("click",(()=>{t(m,"flex")})),r.appendChild(p);const u=document.createElement("div");u.classList.add("right-hand-items"),u.style.display="flex",r.appendChild(u);const y=document.createElement("div");y.id=`task-priority-${a}`,y.classList.add("task-look"),u.appendChild(y);const g=document.createElement("div");g.id=`task-due-date-${a}`,g.classList.add("task-look"),u.appendChild(g);const h=e(`edit-task-${a}`,"","block");h.classList.add("task-btn"),h.addEventListener("click",(()=>{const i=new Map(JSON.parse(localStorage.getItem(o(c)))),s=i.get(`task-${a}`);!function(){const d=document.getElementsByTagName("body")[0],l=document.createElement("div");l.id="modal-form",l.style.display="none",l.classList.add("modal");const a=document.createElement("div"),o=document.createElement("h1");o.id="edit-task-title-modal",o.innerHTML="Edit task",a.appendChild(o);const c=n("modal");a.appendChild(c);const i=document.createElement("div");i.classList.add("hidden-buttons"),i.style.display="flex";const s=e("save-changes-btn-modal","Save changes","block");s.addEventListener("click",(()=>{t(l,"none")})),i.appendChild(s);const r=e("discard-btn-modal","Discard","block");r.addEventListener("click",(()=>{t(l,"none"),l.remove()})),i.appendChild(r),a.appendChild(i),a.classList.add("modal-content"),l.appendChild(a),d.appendChild(l)}();const r=document.getElementById("modal-form");r.style.display="none",t(r,"block"),function(e,t,n){const a=document.getElementById("title-modal"),c=document.getElementById("description-modal"),i=document.getElementById("due-date-modal");let s;switch(a.value=`${e.title}`,c.value=`${e.description}`,i.value=`${e.dueDate}`,e.priority){case"High":document.getElementsByName("priority-modal")[0].checked=!0;break;case"Normal":document.getElementsByName("priority-modal")[1].checked=!0;break;case"Low":document.getElementsByName("priority-modal")[2].checked=!0}document.getElementById("save-changes-btn-modal").addEventListener("click",(()=>{s=document.querySelector('input[name="priority-modal"]:checked').value,e=new l(e.id,a.value,c.value,i.value,s),t.set(`task-${e.id}`,e),d(e),localStorage.setItem(o(n),JSON.stringify(Array.from(t.entries())))}))}(s,i,c)}));const k=document.createElement("img");k.id="edit-task-img",k.src="./img/edit.svg",h.appendChild(k),u.appendChild(h);const E=e(`delete-task-${a}`,"","block");E.classList.add("task-btn");const v=document.createElement("img");v.classList.add("delete-img"),v.src="./img/cancel.svg",E.addEventListener("click",(()=>{s.remove();let e=new Map(JSON.parse(localStorage.getItem(o(c))));e.delete(`task-${a}`),localStorage.setItem(`${o(c)}`,JSON.stringify(Array.from(e.entries())))})),E.appendChild(v),u.appendChild(E);const f=document.createElement("div");f.classList.add("task-description-class"),f.id=`task-description-${a}`,f.classList.add("task-look"),m.appendChild(f),s.appendChild(r),s.appendChild(m),i.appendChild(s)},i=function(i,s,r){const m=document.getElementById("content"),p=document.createElement("div");p.id="add-new";const u=document.createElement("div");u.classList.add("hidden-container"),u.style.display="none";const y=document.createElement("div");y.classList.add("hidden-buttons"),y.style.display="flex";const g=n("add-task");u.appendChild(g);const h=e("add-new-btn","+","block");h.addEventListener("click",(()=>{t(u,"block"),t(h,"none")})),p.appendChild(h);const k=e("submit-btn","Submit","block");k.addEventListener("click",(()=>{const e=(n="add-task",[document.getElementById(`title-${n}`).value,document.getElementById(`description-${n}`).value,document.getElementById(`due-date-${n}`).value,document.querySelector('input[name="priority-add-task"]:checked').value]);var n;if(function(e){const t=e.length;for(let n=0;n<t;n++)if(""===e[n])return console.log("woops"),!1;return!0}(e)){c(i,r);const n=new l(i,e[0],e[1],e[2],e[3]);s.set(`task-${i}`,n),localStorage.setItem(o(r),JSON.stringify(Array.from(s.entries()))),i++,localStorage.setItem("id",i),d(n),a("add-task"),t(u,"none"),t(h,"block"),document.getElementById("all-required").style.display="none"}else document.getElementById("all-required").style.display="block"})),y.appendChild(k);const E=e("cancel-btn","Cancel","block");E.addEventListener("click",(()=>{document.getElementById("all-required").style.display="none",t(u,"none"),t(h,"block"),a("add-task")})),y.appendChild(E),u.appendChild(y),p.appendChild(u),m.appendChild(p)},s=function(t){const n=document.getElementById("projects"),l=document.getElementById("tasks-container"),a=document.createElement("div");a.classList.add("single-project-container"),a.style.display="flex";const s=e(`${t}`,`${t}`,"block");if(s.classList.add("left-bar-btn"),s.addEventListener("click",(()=>{for(;l.firstChild;)l.removeChild(l.lastChild);document.getElementById("add-new").remove(),document.getElementById("page-view-title").textContent=t;let e=JSON.parse(localStorage.getItem("id"));if(null===JSON.parse(localStorage.getItem(o(t)))){let n=new Map;i(e,n,o(t))}else{let n=new Map(JSON.parse(localStorage.getItem(o(t))));i(e,n,o(`${t}`));for(let e of n.values())c(e.id,t),d(e)}})),a.appendChild(s),"Todo"!=t){const n=e(`delete-${t}-btn`,"","block");n.classList.add("task-btn");const d=document.createElement("img");d.src="./img/cancel.svg",n.classList.add("delete-img"),n.appendChild(d),n.addEventListener("click",(()=>{location.reload(),a.remove(),localStorage.removeItem(o(t));let e=JSON.parse(localStorage.getItem("custom-project-list"));e=e.filter((e=>e!=t)),localStorage.setItem("custom-project-list",JSON.stringify(e))})),a.appendChild(n)}n.appendChild(a)},r=function(n){const d=document.getElementById("left-bar"),l=document.createElement("div");l.classList.add("hidden-container"),l.id="left-hand-hidden-container",l.style.display="none";const a=document.createElement("div");a.classList.add("left-hand-hidden-buttons"),a.style.display="flex";const o=e("create-new-project","Create new project +","block");o.classList.add("left-bar-btn"),o.addEventListener("click",(()=>{t(l,"block"),t(o,"none")})),d.appendChild(o);const c=document.createElement("input");c.id="project-name-input",c.placeholder="Project Name",l.appendChild(c);const i=e("submit-btn-left","Submit","block");i.addEventListener("click",(()=>{0!=c.value.length?(n.push(c.value),localStorage.setItem("custom-project-list",JSON.stringify(n)),console.log(n),s(c.value),t(l,"none"),t(o,"block"),c.value="",c.placeholder="Project Name"):c.placeholder="Please provide a name"})),a.appendChild(i);const r=e("cancel-btn-left","Cancel","block");r.addEventListener("click",(()=>{c.placeholder="Project Name",t(l,"none"),t(o,"block")})),a.appendChild(r),l.appendChild(a),d.appendChild(l)};!function(){let e=JSON.parse(localStorage.getItem("id"));if(null===e){let t=[],n=new Map;localStorage.setItem("Todo",JSON.stringify(Array.from(n.entries()))),e=0,localStorage.setItem("id",e),i(e,n,"Todo"),s("Todo"),document.getElementById("Todo").click(),t.push("Todo"),localStorage.setItem("custom-project-list",JSON.stringify(t)),r(t)}else{let t=JSON.parse(localStorage.getItem("custom-project-list")),n=new Map(JSON.parse(localStorage.Todo));i(e,n,"Todo");const l=t.length;for(let e=0;e<l;e++)s(t[e]);r(t);for(let e of n.values())c(e.id),d(e);document.getElementById("Todo").click()}}()})();