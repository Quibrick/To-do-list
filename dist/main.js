(()=>{"use strict";const e=function(e,t,n){const d=document.createElement("button");return d.id=e,d.innerHTML=t,d.style.display=n,d},t=function(e,t){"none"===e.style.display?e.style.display=`${t}`:e.style.display="none"},n=function(e){const t=document.createElement("form");t.classList.add("hidden-form"),t.style.display="flex";const n=document.createElement("input");n.type="text",n.placeholder="Title",n.id=`title-${e}`,n.required=!0,t.appendChild(n);const d=document.createElement("input");d.type="text-area",d.placeholder="Description",d.id=`description-${e}`,d.required=!0,t.appendChild(d);const a=document.createElement("div");a.id="radio-input-container";const l=document.createElement("p");l.innerHTML="Priority :",a.appendChild(l);const i=["High","Normal","Low"];for(let e=0;e<i.length;e++){const t=document.createElement("label");t.htmlFor=i[e],t.innerHTML=i[e],t.name="priority";const n=document.createElement("input");n.type="radio",n.name="priority",n.value=i[e],a.appendChild(t),a.appendChild(n)}t.appendChild(a);const o=document.createElement("input");return o.type="date",o.id=`due-date-${e}`,o.required=!0,t.appendChild(o),t},d=function(e){const t=document.getElementById(`task-title-${e.id}`),n=document.getElementById(`task-description-${e.id}`),d=document.getElementById(`task-due-date-${e.id}`),a=document.getElementById(`task-priority-${e.id}`);t.innerHTML=`${e.title}`,n.innerHTML=`${e.description}`,d.innerHTML=`${e.dueDate}`,a.innerHTML=`${e.priority}`},a=function(e){const t=document.getElementById(`title-${e}`),n=document.getElementById(`description-${e}`),d=document.getElementById(`due-date-${e}`);t.value="",n.value="",d.value=""},l=function(d){const a=document.getElementById("tasks-container"),l=document.createElement("div");l.classList.add("single-task-container"),l.id=`task-${d}`;const i=document.createElement("div");i.classList.add("visible-task"),i.style.display="flex";const o=document.createElement("div");o.classList.add("hidden-task"),o.style.display="none";const c=e(`task-title-${d}`,"","block");c.classList.add("task-title-class"),c.addEventListener("click",(()=>{t(o,"flex")})),i.appendChild(c);const s=document.createElement("div");s.classList.add("right-hand-items"),s.style.display="flex",i.appendChild(s);const r=document.createElement("div");r.id=`task-priority-${d}`,r.classList.add("task-look"),s.appendChild(r);const p=document.createElement("div");p.id=`task-due-date-${d}`,p.classList.add("task-look"),s.appendChild(p);const m=e(`edit-task-${d}`,"","block");m.classList.add("task-btn"),m.addEventListener("click",(()=>{const a=new Map(JSON.parse(localStorage.taskManager)).get(`task-${d}`);!function(d){const a=document.getElementsByTagName("body")[0],l=document.createElement("div");l.id="modal-form",l.style.display="none",l.classList.add("modal");const i=document.createElement("div"),o=document.createElement("h1");o.id="edit-task-title-modal",o.innerHTML="Edit task",i.appendChild(o);const c=n("modal");i.appendChild(c);const s=document.createElement("div");s.classList.add("hidden-buttons"),s.style.display="flex";const r=e("save-changes-btn-modal","Save changes","block");r.addEventListener("click",(()=>{})),s.appendChild(r);const p=e("discard-btn-modal","Discard","block");p.addEventListener("click",(()=>{t(l,"none"),l.remove()})),s.appendChild(p),i.appendChild(s),i.classList.add("modal-content"),l.appendChild(i),a.appendChild(l)}();const l=document.getElementById("modal-form");l.style.display="none",t(l,"block"),function(e){const t=document.getElementById("title-modal"),n=document.getElementById("description-modal"),d=document.getElementById("due-date-modal");t.value=`${e.title}`,n.value=`${e.description}`,d.value=`${e.dueDate}`}(a)}));const u=document.createElement("img");u.id="edit-task-img",u.src="./img/edit.svg",m.appendChild(u),s.appendChild(m);const h=e(`delete-task-${d}`,"","block");h.classList.add("task-btn");const g=document.createElement("img");g.id="delete-task-img",g.src="./img/cancel.svg",h.addEventListener("click",(()=>{l.remove();let e=new Map(JSON.parse(localStorage.taskManager));e.delete(`task-${d}`),localStorage.taskManager=JSON.stringify(Array.from(e.entries()))})),h.appendChild(g),s.appendChild(h);const k=document.createElement("div");k.classList.add("task-description-class"),k.id=`task-description-${d}`,k.classList.add("task-look"),o.appendChild(k),l.appendChild(i),l.appendChild(o),a.appendChild(l)},i=function(i,o,c){const s=document.getElementById("content"),r=document.createElement("div");r.id="add-new";const p=document.createElement("div");p.classList.add("hidden-container"),p.style.display="none";const m=document.createElement("div");m.classList.add("hidden-buttons"),m.style.display="flex";const u=n("add-task");p.appendChild(u);const h=e("add-new-btn","+ Add task","block");h.addEventListener("click",(()=>{t(p,"block"),t(h,"none")})),r.appendChild(h);const g=e("submit-btn","Submit","block");g.addEventListener("click",(()=>{const e=(n="add-task",[document.getElementById(`title-${n}`).value,document.getElementById(`description-${n}`).value,document.getElementById(`due-date-${n}`).value,document.querySelector('input[name="priority"]:checked').value]);var n;if(function(e){const t=e.length;for(let n=0;n<t;n++)if(""===e[n])return console.log("woops"),!1;return!0}(e)){l(i);const n=new class{constructor(e,t,n,d,a){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.priority=a}set ChangeTitle(e){this.title=e}set ChangeDescription(e){this.description=e}}(i,e[0],e[1],e[2],e[3]);o.set(`task-${i}`,n),localStorage.setItem(`${c}`,JSON.stringify(Array.from(o.entries()))),i++,localStorage.setItem("id",i),d(n),a("add-task"),t(p,"none"),t(h,"block")}})),m.appendChild(g);const k=e("cancel-btn","Cancel","block");k.addEventListener("click",(()=>{t(p,"none"),t(h,"block"),a("add-task")})),m.appendChild(k),p.appendChild(m),r.appendChild(p),s.appendChild(r)},o=function(e){return e.replace(/\s/g,"")},c=function(t){const n=document.getElementById("projects"),a=document.getElementById("tasks-container"),c=e(`${t}`,`${t}`,"block");c.addEventListener("click",(()=>{for(;a.firstChild;)a.removeChild(a.lastChild);document.getElementById("add-new").remove(),document.getElementById("page-view-title").textContent=t;let e=JSON.parse(localStorage.getItem("id"));const n=o(`${t}`);if(null===JSON.parse(localStorage.getItem(`${n}`))){let n=new Map;i(e,n,o(t))}else{let n=new Map(JSON.parse(localStorage.getItem(o(t))));i(e,n,o(`${t}`));for(let e of n.values())l(e.id),d(e)}})),c.classList.add("left-bar-btn"),n.appendChild(c)},s=function(n){const d=document.getElementById("left-bar"),a=document.createElement("div");a.classList.add("hidden-container"),a.id="left-hand-hidden-container",a.style.display="none";const l=document.createElement("div");l.classList.add("left-hand-hidden-buttons"),l.style.display="flex";const i=e("create-new-project","+ Create new project","block");i.classList.add("left-bar-btn"),i.addEventListener("click",(()=>{t(a,"block"),t(i,"none")})),d.appendChild(i);const o=document.createElement("input");o.id="project-name-input",o.placeholder="Project Name",a.appendChild(o);const s=e("submit-btn-left","Submit","block");s.addEventListener("click",(()=>{0!=o.value.length?(n.push(o.value),localStorage.setItem("custom-project-list",JSON.stringify(n)),console.log(n),c(o.value),t(a,"none"),t(i,"block")):console.log("er")})),l.appendChild(s);const r=e("cancel-btn-left","Cancel","block");r.addEventListener("click",(()=>{t(a,"none"),t(i,"block")})),l.appendChild(r),a.appendChild(l),d.appendChild(a)};!function(){let e=JSON.parse(localStorage.getItem("id"));if(document.getElementById("page-view-title").textContent="To Do",null===e){let e=[],t=new Map;i(0,t,o("To Do")),s(e),c("To Do")}else{c("To Do");let t=JSON.parse(localStorage.getItem("custom-project-list")),n=new Map(JSON.parse(localStorage.ToDo));i(e,n,o("To Do"));for(let e of n.values())l(e.id),d(e);const a=t.length;for(let e=0;e<a;e++)c(t[e]);s(t)}}()})();