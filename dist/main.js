(()=>{"use strict";const e=function(e,t){"none"===e.style.display?e.style.display=`${t}`:e.style.display="none"},t=function(e,t,n){const d=document.createElement("button");return d.id=e,d.innerHTML=t,d.style.display=n,d},n=function(e){const t=document.getElementById(`task-title-${e.id}`),n=document.getElementById(`task-description-${e.id}`),d=document.getElementById(`task-due-date-${e.id}`),i=document.getElementById(`task-priority-${e.id}`);t.innerHTML=`${e.title}`,n.innerHTML=`${e.description}`,d.innerHTML=`${e.dueDate}`,i.innerHTML=`${e.priority}`},d=function(n){const d=document.getElementById("tasks-container"),i=document.createElement("div");i.classList.add("single-task-container"),i.id=`task-${n}`;const a=document.createElement("div");a.classList.add("visible-task"),a.style.display="flex";const s=document.createElement("div");s.classList.add("hidden-task"),s.style.display="none";const l=t(`task-title-${n}`,"","block");l.classList.add("task-title-class"),l.addEventListener("click",(()=>{e(s,"flex")})),a.appendChild(l);const c=document.createElement("div");c.classList.add("right-hand-items"),c.style.display="flex",a.appendChild(c);const o=document.createElement("div");o.id=`task-priority-${n}`,o.classList.add("task-look"),c.appendChild(o);const r=document.createElement("div");r.id=`task-due-date-${n}`,r.classList.add("task-look"),c.appendChild(r);const p=t(`edit-task-${n}`,"","block");p.classList.add("task-btn");const m=document.createElement("img");m.id="edit-task-img",m.src="./img/edit.svg",p.appendChild(m),c.appendChild(p);const u=t(`delete-task-${n}`,"","block");u.classList.add("task-btn");const k=document.createElement("img");k.id="delete-task-img",k.src="./img/cancel.svg",u.addEventListener("click",(()=>{console.log(n),i.remove();let e=new Map(JSON.parse(localStorage.taskManager));e.delete(`task-${n}`),localStorage.taskManager=JSON.stringify(Array.from(e.entries()))})),u.appendChild(k),c.appendChild(u);const y=document.createElement("div");y.classList.add("task-description-class"),y.id=`task-description-${n}`,y.classList.add("task-look"),s.appendChild(y),i.appendChild(a),i.appendChild(s),d.appendChild(i)},i=function(i,a){const s=document.getElementById("add-new"),l=document.createElement("div");l.classList.add("hidden-container"),l.style.display="none";const c=document.createElement("div");c.classList.add("hidden-buttons"),c.style.display="flex";const o=function(){const e=document.createElement("form");e.classList.add("hidden-form"),e.style.display="flex";const t=document.createElement("input");t.type="text",t.placeholder="Title",t.id="title",t.required=!0,e.appendChild(t);const n=document.createElement("input");n.type="text-area",n.placeholder="Description",n.id="description",n.required=!0,e.appendChild(n);const d=document.createElement("div");d.id="radio-input-container";const i=document.createElement("p");i.innerHTML="Priority :",d.appendChild(i);const a=["High","Normal","Low"];for(let e=0;e<a.length;e++){const t=document.createElement("label");t.htmlFor=a[e],t.innerHTML=a[e],t.name="priority";const n=document.createElement("input");n.type="radio",n.name="priority",n.value=a[e],d.appendChild(t),d.appendChild(n)}e.appendChild(d);const s=document.createElement("input");return s.type="date",s.id="due-date",s.required=!0,e.appendChild(s),e}();l.appendChild(o);const r=t("add-new-btn","+ Add task","block");r.addEventListener("click",(()=>{e(l,"block"),e(r,"none")})),s.appendChild(r);const p=t("submit-btn","Submit","block");p.addEventListener("click",(()=>{const t=[document.getElementById("title").value,document.getElementById("description").value,document.getElementById("due-date").value,document.querySelector('input[name="priority"]:checked').value];if(function(e){const t=e.length;for(let n=0;n<t;n++)if(""===e[n])return console.log("woops"),!1;return!0}(t)){d(i);const s=new class{constructor(e,t,n,d,i){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.priority=i}set ChangeTitle(e){this.title=e}set ChangeDescription(e){this.description=e}}(i,t[0],t[1],t[2],t[3]);a.set(`task-${i}`,s),localStorage.taskManager=JSON.stringify(Array.from(a.entries())),console.log(a),i++,localStorage.setItem("id",i),n(s),function(){const e=document.getElementById("title"),t=document.getElementById("description"),n=document.getElementById("due-date");e.value="",t.value="",n.value=""}(),e(l,"none"),e(r,"block")}})),c.appendChild(p);const m=t("cancel-btn","Cancel","block");m.addEventListener("click",(()=>{e(l,"none"),e(r,"block")})),c.appendChild(m),l.appendChild(c),s.appendChild(l)};!function(){let e=JSON.parse(localStorage.getItem("id"));if(null===e){let e=new Map;i(0,e)}else{let t=new Map(JSON.parse(localStorage.taskManager));i(e,t),console.log(t);for(let e of t.values())d(e.id),n(e)}}()})();