(()=>{"use strict";const e=function(e,t,n){const d=document.createElement("button");return d.id=e,d.innerHTML=t,d.style.display=n,d},t=function(e,t){"none"===e.style.display?e.style.display=`${t}`:e.style.display="none"},n=function(e){const t=document.createElement("form");t.classList.add("hidden-form"),t.style.display="flex";const n=document.createElement("input");n.type="text",n.placeholder="Title",n.id=`title-${e}`,n.required=!0,t.appendChild(n);const d=document.createElement("input");d.type="text-area",d.cols="60",d.rows="8",d.placeholder="Description",d.id=`description-${e}`,d.required=!0,t.appendChild(d);const l=document.createElement("div");l.id="radio-input-container";const a=document.createElement("p");a.innerHTML="Priority :",l.appendChild(a);const o=["High","Normal","Low"];for(let e=0;e<o.length;e++){const t=document.createElement("label");t.htmlFor=o[e],t.innerHTML=o[e],t.name="priority";const n=document.createElement("input");n.type="radio",n.name="priority",n.value=o[e],l.appendChild(t),l.appendChild(n)}t.appendChild(l);const i=document.createElement("input");return i.type="date",i.id=`due-date-${e}`,i.required=!0,t.appendChild(i),t},d=function(e){return[document.getElementById(`title-${e}`).value,document.getElementById(`description-${e}`).value,document.getElementById(`due-date-${e}`).value,document.querySelector('input[name="priority"]:checked').value]},l=function(e){const t=document.getElementById(`task-title-${e.id}`),n=document.getElementById(`task-description-${e.id}`),d=document.getElementById(`task-due-date-${e.id}`),l=document.getElementById(`task-priority-${e.id}`);t.innerHTML=`${e.title}`,n.innerHTML=`${e.description}`,d.innerHTML=`${e.dueDate}`,l.innerHTML=`${e.priority}`},a=function(e){const t=document.getElementById(`title-${e}`),n=document.getElementById(`description-${e}`),d=document.getElementById(`due-date-${e}`);t.value="",n.value="",d.value=""},o=function(e){return e.replace(/\s/g,"")},i=function(l,a){const i=document.getElementById("tasks-container"),c=document.createElement("div");c.classList.add("single-task-container"),c.id=`task-${l}`;const s=document.createElement("div");s.classList.add("visible-task"),s.style.display="flex";const r=document.createElement("div");r.classList.add("hidden-task"),r.style.display="none";const m=e(`task-title-${l}`,"","block");m.classList.add("task-title-class"),m.addEventListener("click",(()=>{t(r,"flex")})),s.appendChild(m);const p=document.createElement("div");p.classList.add("right-hand-items"),p.style.display="flex",s.appendChild(p);const u=document.createElement("div");u.id=`task-priority-${l}`,u.classList.add("task-look"),p.appendChild(u);const g=document.createElement("div");g.id=`task-due-date-${l}`,g.classList.add("task-look"),p.appendChild(g);const h=e(`edit-task-${l}`,"","block");h.classList.add("task-btn"),h.addEventListener("click",(()=>{const i=new Map(JSON.parse(localStorage.getItem(o(a)))).get(`task-${l}`);!function(l){const a=document.getElementsByTagName("body")[0],o=document.createElement("div");o.id="modal-form",o.style.display="none",o.classList.add("modal");const i=document.createElement("div"),c=document.createElement("h1");c.id="edit-task-title-modal",c.innerHTML="Edit task",i.appendChild(c);const s=n("modal");i.appendChild(s);const r=document.createElement("div");r.classList.add("hidden-buttons"),r.style.display="flex";const m=e("save-changes-btn-modal","Save changes","block");m.addEventListener("click",(()=>{console.log(l);const e=d("modal-form");console.log(e)})),r.appendChild(m);const p=e("discard-btn-modal","Discard","block");p.addEventListener("click",(()=>{t(o,"none"),o.remove()})),r.appendChild(p),i.appendChild(r),i.classList.add("modal-content"),o.appendChild(i),a.appendChild(o)}(i);const c=document.getElementById("modal-form");c.style.display="none",t(c,"block"),function(e){const t=document.getElementById("title-modal"),n=document.getElementById("description-modal"),d=document.getElementById("due-date-modal");t.value=`${e.title}`,n.value=`${e.description}`,d.value=`${e.dueDate}`}(i)}));const y=document.createElement("img");y.id="edit-task-img",y.src="./img/edit.svg",h.appendChild(y),p.appendChild(h);const k=e(`delete-task-${l}`,"","block");k.classList.add("task-btn");const E=document.createElement("img");E.classList.add("delete-img"),E.src="./img/cancel.svg",k.addEventListener("click",(()=>{c.remove();let e=new Map(JSON.parse(localStorage.getItem(o(a))));e.delete(`task-${l}`),localStorage.setItem(`${o(a)}`,JSON.stringify(Array.from(e.entries())))})),k.appendChild(E),p.appendChild(k);const v=document.createElement("div");v.classList.add("task-description-class"),v.id=`task-description-${l}`,v.classList.add("task-look"),r.appendChild(v),c.appendChild(s),c.appendChild(r),i.appendChild(c)},c=function(c,s,r){const m=document.getElementById("content"),p=document.createElement("div");p.id="add-new";const u=document.createElement("div");u.classList.add("hidden-container"),u.style.display="none";const g=document.createElement("div");g.classList.add("hidden-buttons"),g.style.display="flex";const h=n("add-task");u.appendChild(h);const y=e("add-new-btn","+","block");y.addEventListener("click",(()=>{t(u,"block"),t(y,"none")})),p.appendChild(y);const k=e("submit-btn","Submit","block");k.addEventListener("click",(()=>{const e=d("add-task");if(function(e){const t=e.length;for(let n=0;n<t;n++)if(""===e[n])return console.log("woops"),!1;return!0}(e)){i(c,r);const n=new class{constructor(e,t,n,d,l){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.priority=l}set ChangeTitle(e){this.title=e}set ChangeDescription(e){this.description=e}}(c,e[0],e[1],e[2],e[3]);s.set(`task-${c}`,n),localStorage.setItem(o(r),JSON.stringify(Array.from(s.entries()))),c++,localStorage.setItem("id",c),l(n),a("add-task"),t(u,"none"),t(y,"block")}})),g.appendChild(k);const E=e("cancel-btn","Cancel","block");E.addEventListener("click",(()=>{t(u,"none"),t(y,"block"),a("add-task")})),g.appendChild(E),u.appendChild(g),p.appendChild(u),m.appendChild(p)},s=function(t){const n=document.getElementById("projects"),d=document.getElementById("tasks-container"),a=document.createElement("div");a.classList.add("single-project-container"),a.style.display="flex";const s=e(`${t}`,`${t}`,"block");if(s.classList.add("left-bar-btn"),s.addEventListener("click",(()=>{for(;d.firstChild;)d.removeChild(d.lastChild);document.getElementById("add-new").remove(),document.getElementById("page-view-title").textContent=t;let e=JSON.parse(localStorage.getItem("id"));if(null===JSON.parse(localStorage.getItem(o(t)))){let n=new Map;c(e,n,o(t))}else{let n=new Map(JSON.parse(localStorage.getItem(o(t))));c(e,n,o(`${t}`));for(let e of n.values())i(e.id,t),l(e)}})),a.appendChild(s),"Todo"!=t){const n=e(`delete-${t}-btn`,"","block");n.classList.add("task-btn");const d=document.createElement("img");d.src="./img/cancel.svg",n.classList.add("delete-img"),n.appendChild(d),n.addEventListener("click",(()=>{location.reload(),a.remove(),localStorage.removeItem(o(t));let e=JSON.parse(localStorage.getItem("custom-project-list"));e=e.filter((e=>e!=t)),localStorage.setItem("custom-project-list",JSON.stringify(e))})),a.appendChild(n)}n.appendChild(a)},r=function(n){const d=document.getElementById("left-bar"),l=document.createElement("div");l.classList.add("hidden-container"),l.id="left-hand-hidden-container",l.style.display="none";const a=document.createElement("div");a.classList.add("left-hand-hidden-buttons"),a.style.display="flex";const o=e("create-new-project","Create new project","block");o.classList.add("left-bar-btn"),o.addEventListener("click",(()=>{t(l,"block"),t(o,"none")})),d.appendChild(o);const i=document.createElement("input");i.id="project-name-input",i.placeholder="Project Name",l.appendChild(i);const c=e("submit-btn-left","Submit","block");c.addEventListener("click",(()=>{0!=i.value.length?(n.push(i.value),localStorage.setItem("custom-project-list",JSON.stringify(n)),console.log(n),s(i.value),t(l,"none"),t(o,"block"),i.value=""):console.log("er")})),a.appendChild(c);const r=e("cancel-btn-left","Cancel","block");r.addEventListener("click",(()=>{t(l,"none"),t(o,"block")})),a.appendChild(r),l.appendChild(a),d.appendChild(l)};!function(){let e=JSON.parse(localStorage.getItem("id"));if(null===e){let t=[],n=new Map;localStorage.setItem("Todo",JSON.stringify(Array.from(n.entries()))),e=0,localStorage.setItem("id",e),c(e,n,"Todo"),s("Todo"),document.getElementById("Todo").click(),t.push("Todo"),localStorage.setItem("custom-project-list",JSON.stringify(t)),r(t)}else{let t=JSON.parse(localStorage.getItem("custom-project-list")),n=new Map(JSON.parse(localStorage.Todo));c(e,n,"Todo");const d=t.length;for(let e=0;e<d;e++)s(t[e]);r(t);for(let e of n.values())i(e.id),l(e);document.getElementById("Todo").click()}}()})();