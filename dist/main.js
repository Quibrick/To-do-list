(()=>{"use strict";const e=function(e,t,n){const d=document.createElement("button");return d.id=e,d.innerHTML=t,d.style.display=n,d},t=function(e,t){"none"===e.style.display?e.style.display=`${t}`:e.style.display="none"},n=function(e){const t=document.createElement("form");t.classList.add("hidden-form"),t.style.display="flex";const n=document.createElement("input");n.type="text",n.placeholder="Title",n.id=`title-${e}`,n.required=!0,t.appendChild(n);const d=document.createElement("input");d.type="text-area",d.placeholder="Description",d.id=`description-${e}`,d.required=!0,t.appendChild(d);const a=document.createElement("div");a.id="radio-input-container";const i=document.createElement("p");i.innerHTML="Priority :",a.appendChild(i);const l=["High","Normal","Low"];for(let e=0;e<l.length;e++){const t=document.createElement("label");t.htmlFor=l[e],t.innerHTML=l[e],t.name="priority";const n=document.createElement("input");n.type="radio",n.name="priority",n.value=l[e],a.appendChild(t),a.appendChild(n)}t.appendChild(a);const s=document.createElement("input");return s.type="date",s.id=`due-date-${e}`,s.required=!0,t.appendChild(s),t},d=function(e){const t=document.getElementById(`task-title-${e.id}`),n=document.getElementById(`task-description-${e.id}`),d=document.getElementById(`task-due-date-${e.id}`),a=document.getElementById(`task-priority-${e.id}`);t.innerHTML=`${e.title}`,n.innerHTML=`${e.description}`,d.innerHTML=`${e.dueDate}`,a.innerHTML=`${e.priority}`},a=function(e){const t=document.getElementById(`title-${e}`),n=document.getElementById(`description-${e}`),d=document.getElementById(`due-date-${e}`);t.value="",n.value="",d.value=""},i=function(d){const a=document.getElementById("tasks-container"),i=document.createElement("div");i.classList.add("single-task-container"),i.id=`task-${d}`;const l=document.createElement("div");l.classList.add("visible-task"),l.style.display="flex";const s=document.createElement("div");s.classList.add("hidden-task"),s.style.display="none";const c=e(`task-title-${d}`,"","block");c.classList.add("task-title-class"),c.addEventListener("click",(()=>{t(s,"flex")})),l.appendChild(c);const o=document.createElement("div");o.classList.add("right-hand-items"),o.style.display="flex",l.appendChild(o);const r=document.createElement("div");r.id=`task-priority-${d}`,r.classList.add("task-look"),o.appendChild(r);const p=document.createElement("div");p.id=`task-due-date-${d}`,p.classList.add("task-look"),o.appendChild(p);const m=e(`edit-task-${d}`,"","block");m.classList.add("task-btn"),m.addEventListener("click",(()=>{const a=new Map(JSON.parse(localStorage.taskManager)).get(`task-${d}`);!function(d){const a=document.getElementsByTagName("body")[0],i=document.createElement("div");i.id="modal-form",i.style.display="none",i.classList.add("modal");const l=document.createElement("div"),s=document.createElement("h1");s.id="edit-task-title-modal",s.innerHTML="Edit task",l.appendChild(s);const c=n("modal");l.appendChild(c);const o=document.createElement("div");o.classList.add("hidden-buttons"),o.style.display="flex";const r=e("save-changes-btn-modal","Save changes","block");r.addEventListener("click",(()=>{})),o.appendChild(r);const p=e("discard-btn-modal","Discard","block");p.addEventListener("click",(()=>{t(i,"none"),i.remove()})),o.appendChild(p),l.appendChild(o),l.classList.add("modal-content"),i.appendChild(l),a.appendChild(i)}();const i=document.getElementById("modal-form");i.style.display="none",t(i,"block"),function(e){const t=document.getElementById("title-modal"),n=document.getElementById("description-modal"),d=document.getElementById("due-date-modal");t.value=`${e.title}`,n.value=`${e.description}`,d.value=`${e.dueDate}`}(a)}));const u=document.createElement("img");u.id="edit-task-img",u.src="./img/edit.svg",m.appendChild(u),o.appendChild(m);const k=e(`delete-task-${d}`,"","block");k.classList.add("task-btn");const y=document.createElement("img");y.id="delete-task-img",y.src="./img/cancel.svg",k.addEventListener("click",(()=>{i.remove();let e=new Map(JSON.parse(localStorage.taskManager));e.delete(`task-${d}`),localStorage.taskManager=JSON.stringify(Array.from(e.entries()))})),k.appendChild(y),o.appendChild(k);const h=document.createElement("div");h.classList.add("task-description-class"),h.id=`task-description-${d}`,h.classList.add("task-look"),s.appendChild(h),i.appendChild(l),i.appendChild(s),a.appendChild(i)},l=function(l,s){const c=document.getElementById("add-new"),o=document.createElement("div");o.classList.add("hidden-container"),o.style.display="none";const r=document.createElement("div");r.classList.add("hidden-buttons"),r.style.display="flex";const p=n("add-task");o.appendChild(p);const m=e("add-new-btn","+ Add task","block");m.addEventListener("click",(()=>{t(o,"block"),t(m,"none")})),c.appendChild(m);const u=e("submit-btn","Submit","block");u.addEventListener("click",(()=>{const e=(n="add-task",[document.getElementById(`title-${n}`).value,document.getElementById(`description-${n}`).value,document.getElementById(`due-date-${n}`).value,document.querySelector('input[name="priority"]:checked').value]);var n;if(function(e){const t=e.length;for(let n=0;n<t;n++)if(""===e[n])return console.log("woops"),!1;return!0}(e)){i(l);const n=new class{constructor(e,t,n,d,a){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.priority=a}set ChangeTitle(e){this.title=e}set ChangeDescription(e){this.description=e}}(l,e[0],e[1],e[2],e[3]);s.set(`task-${l}`,n),localStorage.taskManager=JSON.stringify(Array.from(s.entries())),l++,localStorage.setItem("id",l),d(n),a("add-task"),t(o,"none"),t(m,"block")}})),r.appendChild(u);const k=e("cancel-btn","Cancel","block");k.addEventListener("click",(()=>{t(o,"none"),t(m,"block"),a("add-task")})),r.appendChild(k),o.appendChild(r),c.appendChild(o)};!function(){let t=JSON.parse(localStorage.getItem("id"));if(null===t){let e=new Map;l(0,e)}else{!function(){const t=document.getElementById("projects"),n=e("create-new-project","+ Create new project","block");n.classList.add("left-bar-btn"),t.appendChild(n)}();let n=new Map(JSON.parse(localStorage.taskManager));l(t,n);for(let e of n.values())i(e.id),d(e)}}()})();